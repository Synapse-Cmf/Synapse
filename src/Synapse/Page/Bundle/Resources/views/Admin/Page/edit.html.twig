{% extends 'SynapsePageBundle::layout.html.twig' %}

{% form_theme form 'SynapseAdminBundle:Form:synapse_admin_form_layout.html.twig' %}

{% block content %}
  <div class="row">
    <div class="col-md-12">
      <ul class="breadcrumb">
        <li>
          <a href="{{ path('synapse_admin_page_list') }}">
            <i class="fa fa-files-o"></i>
            Pages
          </a>
        </li>
        <li class="active">{{ page.name }}</li>
        <li class="active">edit</li>
      </ul>
    </div>
  </div>

  {{ form_start(form) }}

  <div class="row-fluid">
    <div class="col-fix">
      <div class="button-bar" data-spy="affix" data-offset-top="55">
        <a href="#form-general" class="btn btn-big btn-primary">
          <i class="fa fa-2x fa-file-text-o"></i>
          General
        </a>
        <a href="#form-meta" class="btn btn-big btn-primary">
          <i class="fa fa-2x fa-sitemap"></i>
          Metas
        </a>
        <a href="#form-content" class="btn btn-big btn-primary">
          <i class="fa fa-2x fa-scribd"></i>
          Content
        </a>
        {# <a href="#form-tech" class="btn btn-big btn-primary">
          <i class="fa fa-2x fa-wrench"></i>
          Tech
        </a> #}
      </div>
    </div>
    <div class="col-fill">

      {# General #}
      <div id="form-general" class="panel">
        <header class="panel-heading composed bg-main">
          <a href class="combo">
            <i class="fa fa-file-text-o"></i>
          </a>
          <h3>General</h3>
        </header>
        <div class="panel-body">
          {{ form_row(form.name) }}
          {{ form_row(form.online) }}
        </div>
      </div>

      {# Metas #}
      <div id="form-meta" class="panel">
        <header class="panel-heading composed bg-main">
          <a href class="combo">
            <i class="fa fa-sitemap"></i>
          </a>
          <h3>Metadata</h3>
        </header>
        <div class="panel-body">
          {{ form_row(form.meta) }}
        </div>
      </div>

      {# Content #}
      <div id="form-content" class="synapse-theme-form panel">
        <header class="panel-heading composed bg-main">
          <a href class="combo">
            <i class="fa fa-scribd"></i>
          </a>
          <h3>Content</h3>
        </header>
        {% if form.synapse is defined %}
          {{ form_widget(form.synapse) }}
        {% else %}
          <div class="panel-body">
            WARNING: You have not active theme. You will not be able to display the page. Create one of them to apply a template to this content.
          </div>
        {% endif %}
      </div>

      {# Tech #}
      {# <div id="form-tech" class="panel">
        <header class="panel-heading composed bg-main">
          <a href class="combo">
            <i class="fa fa-wrench"></i>
          </a>
          <h3>Tech</h3>
        </header>
        <div class="panel-body">

        </div>
      </div> #}

    </div>
    <div class="col-fix">
      <div class="button-bar" data-spy="affix" data-offset-top="55">
        <a class="btn btn-big btn-warning" href="{{ path('synapse_admin_page_list') }}">
          <i class="fa fa-times"></i>
          <span>Cancel</span>
        </a>
        {% set void = form.submit.setRendered(true) %}
        <button class="btn btn-big btn-success" type="submit"
          id="{{ form.submit.vars.id }}" name="{{ form.submit.vars.full_name }}"
        >
          <i class="fa fa-2x fa-check"></i>
          Submit
        </button>
      </div>
    </div>
  </div>
  {{ form_end(form) }}
{% endblock %}
